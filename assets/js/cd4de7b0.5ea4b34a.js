"use strict";(self.webpackChunksolidui_website=self.webpackChunksolidui_website||[]).push([[5933],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>_});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),s=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):d(d({},t),e)),n},p=function(e){var t=s(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,_=u["".concat(l,".").concat(m)]||u[m]||c[m]||i;return n?o.createElement(_,d(d({ref:t},p),{},{components:n})):o.createElement(_,d({ref:t},p))}));function _(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,d=new Array(i);d[0]=m;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[u]="string"==typeof e?e:r,d[1]=a;for(var s=2;s<i;s++)d[s]=n[s];return o.createElement.apply(null,d)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9507:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>s});var o=n(7462),r=(n(7294),n(3905));const i={id:"deployment-web",title:"Front-End Deployment",sidebar_position:1},d="SolidUI front-end deployment",a={unversionedId:"deployment/deployment-web",id:"deployment/deployment-web",title:"Front-End Deployment",description:"1 Preparations",source:"@site/docs/deployment/deployment-web.md",sourceDirName:"deployment",slug:"/deployment/deployment-web",permalink:"/SolidUI-Website/docs/deployment/deployment-web",draft:!1,editUrl:"https://github.com/CloudOrc/SolidUI-Website/edit/dev/docs/deployment/deployment-web.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"deployment-web",title:"Front-End Deployment",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Docker Publish",permalink:"/SolidUI-Website/docs/development/development-docker-publish"},next:{title:"Docker-Compose Deployment",permalink:"/SolidUI-Website/docs/deployment/deployment-docker"}},l={},s=[{value:"1 Preparations",id:"1-preparations",level:2},{value:"2 deployment",id:"2-deployment",level:2},{value:"2.1 Automated deployment (recommended)",id:"21-automated-deployment-recommended",level:3},{value:"2.1.1 Modify configuration config.sh",id:"211-modify-configuration-configsh",level:4},{value:"2.2 Manual deployment",id:"22-manual-deployment",level:3},{value:"2.2.1 Install Nginx",id:"221-install-nginx",level:4},{value:"2.2.2 Modify configuration file",id:"222-modify-configuration-file",level:4},{value:"2.2.3 Resource deployment",id:"223-resource-deployment",level:4},{value:"2.2.4 Start service",id:"224-start-service",level:4},{value:"3 login",id:"3-login",level:2},{value:"4 Notes",id:"4-notes",level:2},{value:"5 Frequently Asked Questions",id:"5-frequently-asked-questions",level:2},{value:"5.1 Interface timeout",id:"51-interface-timeout",level:3}],p={toc:s},u="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"solidui-front-end-deployment"},"SolidUI front-end deployment"),(0,r.kt)("h2",{id:"1-preparations"},"1 Preparations"),(0,r.kt)("p",null,"Download the source code from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/CloudOrc/SolidUI"},"https://github.com/CloudOrc/SolidUI")," or ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/CloudOrc/SolidUI/releases"},"https://github.com/CloudOrc/SolidUI/releases")," and compile the corresponding installation package."),(0,r.kt)("p",null,"Compilation: ",(0,r.kt)("a",{parentName:"p",href:"/docs/development/development-server"},"Server Compilation")," and ",(0,r.kt)("a",{parentName:"p",href:"/docs/development/development-front"},"Frontend Compilation")),(0,r.kt)("p",null,"After uploading the installation package solidui-x.x.x-bin.tar.gz, extract the installation package."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tar -zxvf solidui-x.x.x-bin.tar.gz\n# front-end directory\ncd solidui-x.x.x/solidui-web\n")),(0,r.kt)("h2",{id:"2-deployment"},"2 deployment"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Divided into two deployment methods, automated deployment and manual deployment")),(0,r.kt)("h3",{id:"21-automated-deployment-recommended"},"2.1 Automated deployment (recommended)"),(0,r.kt)("h4",{id:"211-modify-configuration-configsh"},"2.1.1 Modify configuration config.sh"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'# solidui service address\nsolidui_url="http://127.0.0.1:12345"\n# models backend address\nsolidui_url_models="http://127.0.0.1:5110"\n# kernel backend address\nsolidui_url_kernel="http://127.0.0.1:5010"\n#It can be configured as the ip of the installation machine or use the default value\nsolidui_ipaddr=127.0.0.1\n# Port to access the management console\nsolidui_port=8099\n\n#### 2.1.2 Execute the deployment script\n```shell script\n# nginx needs sudo permission to install\nsudo sh install.sh\n')),(0,r.kt)("p",null,"After installation, the nginx configuration file of solidui is in ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/nginx/conf.d/solidui.conf")," by default\nThe log files of nginx are in ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/log/nginx/access.log")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/log/nginx/error.log"),"\nAn example of the generated solidui nginx configuration file is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-nginx"},"server {\n  listen 8099;\n  server_name localhost;\n\n  location / {\n    root /opt/solidui/solidui-web/dist; # Static file directory\n    index index.html index.html;\n  }\n\n  location /solidui {\n    proxy_pass $solidui_url; # The address of the backend SolidUI\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n\n  location /solidui/models {\n    proxy_pass $solidui_url_models; # modelui backend address\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n\n  location /solidui/kernel {\n    proxy_pass $solidui_url_kernel; # modelui kernel backend address\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n\n  error_page 500 502 503 504 /50x.html;\n  location = /50x.html {\n    root /usr/share/nginx/html;\n  }\n}\n")),(0,r.kt)("h3",{id:"22-manual-deployment"},"2.2 Manual deployment"),(0,r.kt)("h4",{id:"221-install-nginx"},"2.2.1 Install Nginx"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you have already installed nginx, you can skip it")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"sudo yum install nginx -y\n")),(0,r.kt)("h4",{id:"222-modify-configuration-file"},"2.2.2 Modify configuration file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"sudo vi /etc/nginx/conf.d/solidui.conf\n")),(0,r.kt)("p",null,"Add the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"server {\n  listen 8080;# access port\n  server_name localhost;\n  #charset koi8-r;\n  #access_log /var/log/nginx/host.access.log main;\n  location / {\n    root /opt/solidui/solidui-web/dist; # The directory where the front-end package is decompressed\n    index index.html index.html;\n  }\n\n  location /solidui {\n    proxy_pass http://127.0.0.1:12345; # solidui service address\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n\n  location /solidui/models {\n    proxy_pass http://127.0.0.1:5110; # modelui backend address\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n\n  location /solidui/kernel {\n    proxy_pass http://127.0.0.1:5010; # modelui kernel backend address\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header x_real_ipP $remote_addr;\n    proxy_set_header remote_addr $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_http_version 1.1;\n    proxy_connect_timeout 4s;\n    proxy_read_timeout 600s;\n    proxy_send_timeout 12s;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection upgrade;\n  }\n \n  error_page 500 502 503 504 /50x.html;\n  location = /50x.html {\n    root /usr/share/nginx/html;\n  }\n}\n")),(0,r.kt)("h4",{id:"223-resource-deployment"},"2.2.3 Resource deployment"),(0,r.kt)("p",null,"Suppose the product path after the front-end ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run build")," is: ",(0,r.kt)("inlineCode",{parentName:"p"},"/opt/solidui/solidui-web/dist")),(0,r.kt)("h4",{id:"224-start-service"},"2.2.4 Start service"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo systemctl restart nginx\n")),(0,r.kt)("h2",{id:"3-login"},"3 login"),(0,r.kt)("p",null,"Browser access ",(0,r.kt)("inlineCode",{parentName:"p"},"http://solidui_ipaddr:solidui_port")," where solidui_port is the port configured in config.sh, solidui_ipaddr is the IP of the installation machine, and the default account password is: ",(0,r.kt)("inlineCode",{parentName:"p"},"admin/admin")),(0,r.kt)("h2",{id:"4-notes"},"4 Notes"),(0,r.kt)("p",null,"If you need to modify the port or static resource directory, etc., please modify the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/nginx/conf.d/solidui.conf")," file and execute the ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo nginx -s reload")," command"),(0,r.kt)("admonition",{title:"Caution",type:"caution"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Check whether nginx starts normally: check whether the nginx process exists ",(0,r.kt)("inlineCode",{parentName:"li"},"ps -ef |grep nginx")),(0,r.kt)("li",{parentName:"ul"},"Check if the configuration of nginx is correct ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo nginx -T")),(0,r.kt)("li",{parentName:"ul"},"If the port is occupied, you can modify the service port ",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/nginx/conf.d/solidui.conf"),"listen port value started by nginx, save and restart"))),(0,r.kt)("h2",{id:"5-frequently-asked-questions"},"5 Frequently Asked Questions"),(0,r.kt)("h3",{id:"51-interface-timeout"},"5.1 Interface timeout"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo vi /etc/nginx/conf.d/solidui.conf\n")),(0,r.kt)("p",null,"Change interface timeout"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"proxy_read_timeout 600s\n")))}c.isMDXComponent=!0}}]);